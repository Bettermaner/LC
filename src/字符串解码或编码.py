# ç»™å®šä¸€ä¸ªç»è¿‡ç¼–ç çš„å­—ç¬¦ä¸²ï¼Œè¿”å›å®ƒè§£ç åçš„å­—ç¬¦ä¸²ã€‚

# ç¼–ç è§„åˆ™ä¸º: k[encoded_string]ï¼Œè¡¨ç¤ºå…¶ä¸­æ–¹æ‹¬å·å†…éƒ¨çš„ encoded_string æ­£å¥½é‡å¤ k æ¬¡ã€‚æ³¨æ„ k ä¿è¯ä¸ºæ­£æ•´æ•°ã€‚

# ä½ å¯ä»¥è®¤ä¸ºè¾“å…¥å­—ç¬¦ä¸²æ€»æ˜¯æœ‰æ•ˆçš„ï¼›è¾“å…¥å­—ç¬¦ä¸²ä¸­æ²¡æœ‰é¢å¤–çš„ç©ºæ ¼ï¼Œä¸”è¾“å…¥çš„æ–¹æ‹¬å·æ€»æ˜¯ç¬¦åˆæ ¼å¼è¦æ±‚çš„ã€‚

# æ­¤å¤–ï¼Œä½ å¯ä»¥è®¤ä¸ºåŸå§‹æ•°æ®ä¸åŒ…å«æ•°å­—ï¼Œæ‰€æœ‰çš„æ•°å­—åªè¡¨ç¤ºé‡å¤çš„æ¬¡æ•° k ï¼Œä¾‹å¦‚ä¸ä¼šå‡ºç°åƒÂ 3aÂ æˆ–Â 2[4]Â çš„è¾“å…¥ã€‚

# è¾“å…¥ï¼šs = "3[a]2[bc]"
# è¾“å‡ºï¼š"aaabcbc"

# ğŸ§  è§£é¢˜æ€è·¯
# æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ æ ˆï¼ˆstackï¼‰ æ¥å¤„ç†åµŒå¥—ç»“æ„çš„æ‹¬å·ã€‚å…·ä½“æ¥è¯´ï¼š

# é‡åˆ°æ•°å­—æ—¶ï¼Œæˆ‘ä»¬è¦æŠŠå®Œæ•´çš„æ•°å­—æ‹¼èµ·æ¥ï¼ˆå› ä¸ºå¯èƒ½æœ‰ 10 æˆ–æ›´å¤§çš„æ•°ï¼‰ï¼›
# é‡åˆ° [ æ—¶ï¼ŒæŠŠå½“å‰çš„å­—ç¬¦ä¸²å’Œæ•°å­—å‹å…¥æ ˆä¸­ï¼›
# é‡åˆ° ] æ—¶ï¼Œå¼¹å‡ºæ ˆä¸­çš„æ•°å­—å’Œä¹‹å‰çš„å­—ç¬¦ä¸²ï¼Œè¿›è¡Œé‡å¤æ“ä½œï¼›
# ä½¿ç”¨ä¸€ä¸ªä¸´æ—¶å˜é‡ä¿å­˜å½“å‰æ„å»ºçš„å­—ç¬¦ä¸²ã€‚


# æ—¶é—´å¤æ‚åº¦: O(n)ï¼Œå…¶ä¸­ n æ˜¯å­—ç¬¦ä¸²é•¿åº¦ã€‚
# æ¯ä¸ªå­—ç¬¦æœ€å¤šè¢«å¤„ç†ä¸€æ¬¡ï¼ˆè¿›æ ˆ/å‡ºæ ˆæˆ–æ‹¼æ¥ï¼‰ï¼Œè™½ç„¶æŸäº›å­—ç¬¦ä¼šè¢«å¤šæ¬¡æ‹¼æ¥åˆ°å­—ç¬¦ä¸²ä¸­ï¼Œä½†æ€»çš„æ“ä½œæ¬¡æ•°ä»ç„¶æ˜¯çº¿æ€§çš„ã€‚
# ç©ºé—´å¤æ‚åº¦: O(n)
# æœ€åæƒ…å†µä¸‹ï¼Œæ‰€æœ‰å­—ç¬¦éƒ½åµŒå¥—åœ¨æ‹¬å·å†…ï¼Œéœ€è¦æ ˆå­˜å‚¨ä¸­é—´ç»“æœã€‚


def decodeString(s: str) -> str:
    stack = []
    current_num = 0
    current_str = ''

    for char in s:
        if char.isdigit():
            # æ„å»ºå¤šä½æ•°å­—
            current_num = current_num * 10 + int(char)

        elif char == '[':
            # å°†å½“å‰å­—ç¬¦ä¸²å’Œæ•°å­—å‹æ ˆ
            stack.append((current_str, current_num))
            current_str = ''
            current_num = 0

        elif char == ']':
            # å¼¹å‡ºæ ˆé¡¶çš„å­—ç¬¦ä¸²å’Œæ•°å­—
            prev_str, repeat_time = stack.pop()
            current_str = prev_str + current_str * repeat_time

        else:
            # æ™®é€šå­—ç¬¦ç›´æ¥åŠ åˆ°å½“å‰å­—ç¬¦ä¸²ä¸­
            current_str += char

    return current_str